#!/usr/bin/env ruby
require "secret_store"
require "irb"
require 'io/console'

extend SecretStore

secrets_file = ARGV.first || default_secrets_file

puts "Connecting to #{secrets_file}."

connect_secret_store( secrets_file )

puts "Connected. Methods available:"
puts "  read_secret [label]"
puts "  write_secret [label], [content]"
puts "  delete_secret [label]"
puts "  all_secret_labels"
puts "  change_password"
puts "  export_secrets"

IRB.start
